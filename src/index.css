@tailwind base;
@tailwind components;
@tailwind utilities;
@import "./styles/ai-assistant-glassmorphism.css";

@layer base {
  :root {
    --background: 255 100% 99%;            /* soft blue-white */
    --foreground: 257 30% 19%;
    --card: 0 0% 100%;
    --card-foreground: 257 30% 18%;
    --popover: 0 0% 100%;
    --popover-foreground: 257 30% 18%;

    /* Main theme colors: */
    --primary: 260 84% 93%;      /* Light pastel purple from pic 1 */
    --primary-foreground: 260 40% 35%; 
    --secondary: 201 100% 97%;   /* Very light blue from pic 1 */
    --secondary-foreground: 240 30% 30%;
    --accent: 329 100% 97%;      /* Very light pastel pink */
    --accent-foreground: 330 30% 35%;
    --muted: 260 40% 97%;        /* pale lavender */
    --muted-foreground: 260 18% 46%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;

    --border: 260 60% 87%;
    --input: 260 60% 86%;
    --ring: 259 70% 90%;

    --radius: 0.75rem;
    
    /* Artful custom colors from pic 1: */
    --light-pink: 329 98% 96%;
    --light-purple: 260 85% 92%;
    --light-blue: 201 100% 97%;
    --off-white: 254 48% 98%;

    /* Gradients */
    --card-gradient: linear-gradient(135deg, #FFECF5 0%, #EEEAFE 50%, #E9F3FE 100%); /* soft pink → purple → blue */
    --sidebar-gradient: linear-gradient(120deg, #FDEFFC 40%, #EAF1FE 100%);

    /* For glass backgrounds */
    --glass-bg: rgba(255,255,255,0.5);
    --glass-border: rgba(200, 180, 255, 0.15);
  }

  .dark {
    /* Based on pic 2, rich and dark, but still soft: */
    --background: 258 63% 6%;        /* deep dark purple */
    --foreground: 255 49% 91%;  
    --card: 261 60% 12%;
    --card-foreground: 255 50% 95%;
    --popover: 259 36% 17%;
    --popover-foreground: 255 39% 96%;  

    --primary: 259 64% 38%;       /* muted royal blue-light purple */
    --primary-foreground: 270 70% 83%;
    --secondary: 239 41% 19%;     /* navy-teal */
    --secondary-foreground: 246 70% 88%; 

    --accent: 282 24% 20%;        /* dark muted purple */
    --accent-foreground: 282 47% 90%;

    --muted: 258 30% 20%;
    --muted-foreground: 260 20% 75%;

    --destructive: 352 60% 45%;
    --destructive-foreground: 352 65% 92%;

    --border: 260 40% 14%;
    --input: 258 35% 16%;
    --ring: 264 64% 38%;

    /* Custom colors from pic 2: */
    --dark-purple: 259 68% 14%;
    --teal-blue: 199 55% 23%;
    --deep-blue: 239 61% 18%;
    --black: 260 100% 4%;

    /* Gradients */
    --card-gradient: linear-gradient(135deg, #2e204b 0%, #462d58 45%, #263145 100%);
    --sidebar-gradient: linear-gradient(120deg, #231935 40%, #2d3753 100%);
    --glass-bg: rgba(30,24,42,0.6);
    --glass-border: rgba(100,100,140,0.15);
  }
}

/* Artful subtle gradient backgrounds */
.bg-dash-gradient {
  background: linear-gradient(120deg, #FFECF5 0%, #EAF1FE 100%);
}
.dark .bg-dash-gradient {
  background: linear-gradient(120deg, #2e204b 0%, #2d3753 100%);
}

/* Card background */
.card-gradient {
  background: var(--card-gradient);
  border: 1px solid var(--border);
  box-shadow: 0 8px 32px rgba(114, 106, 171, 0.10);
  backdrop-filter: blur(10px);
}
.dark .card-gradient {
  background: var(--card-gradient);
  border: 1px solid var(--border);
  box-shadow: 0 8px 32px rgba(44, 33, 98, 0.13);
  backdrop-filter: blur(10px);
}

.sidebar-gradient {
  background: var(--sidebar-gradient);
  border-right: 1px solid var(--border);
  backdrop-filter: blur(10px);
}

.glass-bg {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(14px);
}

/* Fix for RTL text in form inputs */
html[dir="rtl"] input, 
html[dir="rtl"] textarea {
  text-align: right;
}

/* Ensure correct margin direction in RTL */
html[dir="rtl"] .mr-1, 
html[dir="rtl"] .mr-2, 
html[dir="rtl"] .mr-3, 
html[dir="rtl"] .mr-4 {
  margin-right: 0 !important;
}

html[dir="rtl"] .mr-1 {
  margin-left: 0.25rem !important;
}

html[dir="rtl"] .mr-2 {
  margin-left: 0.5rem !important;
}

html[dir="rtl"] .mr-3 {
  margin-left: 0.75rem !important;
}

html[dir="rtl"] .mr-4 {
  margin-left: 1rem !important;
}

/* Fix for flag displays */
.en-flag, .ar-flag {
  position: relative;
  overflow: hidden;
  display: inline-block;
  vertical-align: middle;
}

/* Glassmorphism styles */
.glassmorphism {
  @apply backdrop-blur-xl bg-white/70 dark:bg-slate-800/70 border border-white/30 dark:border-slate-700/30 shadow-lg;
}

.glassmorphism-content {
  @apply backdrop-blur-sm bg-white/30 dark:bg-slate-800/30;
}

.input-active {
  @apply focus:ring-2 focus:shadow-lg;
}

/* Fix message readability */
.prose-sm pre {
  @apply bg-muted/70 backdrop-blur-sm !important;
}

.prose-sm code {
  @apply bg-muted/70 text-primary dark:text-blue-300 px-1 py-0.5 rounded text-sm !important;
}

/* Fix mobile overflow */
.overflow-x-auto::-webkit-scrollbar,
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

.overflow-x-auto,
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Chat interface customization */
.chat-container {
  max-width: 100%;
  width: 100%;
  margin: 0 auto;
}

@media (min-width: 640px) {
  .chat-container {
    max-width: 90%;
  }
}

@media (min-width: 768px) {
  .chat-container {
    max-width: 85%;
  }
}

@media (min-width: 1024px) {
  .chat-container {
    max-width: 80%;
  }
}

/* Button styles */
.chat-button {
  @apply rounded-full transition-all duration-300;
  padding: 0.75rem;
  height: auto;
  min-height: 2.75rem;
}

/* Sand-themed backgrounds */
.bg-sand-gradient {
  background: linear-gradient(to right, rgba(253, 242, 248, 0.7), rgba(255, 241, 242, 0.7));
  backdrop-filter: blur(8px);
}

/* Enhanced mode styles */
.mode-tab {
  @apply rounded-full px-4 py-2 transition-all;
  min-width: 120px;
  text-align: center;
}

@media (max-width: 640px) {
  .mode-tab {
    min-width: auto;
    padding: 0.5rem 0.75rem;
  }
}
